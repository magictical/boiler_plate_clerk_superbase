---
name: HM-01 Guest 홈 화면 MVP
overview: Guest 사용자를 위한 메인 홈 화면 MVP. 상단 CTA 배너, 잠금 티어 영역, 샘플 차트, [+ 새 루틴] 버튼 및 GatePopup 구현.
status: 완료
todo_ref: docs/TODO.md § 3.1
---

# HM-01: Guest 홈 화면 MVP 구현 계획

> **상태**: 구현 완료 (TODO 3.1)  
> **관리 위치**: 이 문서는 `docs/implementation-plans/`에서 관리됩니다.

---

## 1. 요구사항 정리

| 출처 | 내용 |
|------|------|
| PRD 3.4 [Guest Mode View] | Sticky 배너 "내 티어 확인하고 AI 코칭 받기" (클릭 시 온보딩 Step 1). 티어 위치에 ? 표시. 그래프 영역에 Sample Data + 안내 문구. |
| TODO 3.1 | Guest 분기, GuestBanner, GatePopup. [+ 새 루틴] 클릭 시 설정 유도 팝업. |
| ui_specs HM-01 | 상단 고정 배너 → ON-01. 티어 영역: 잠금/물음표. 차트: "데이터가 필요합니다" + 블러 예시. [+ 새 루틴] 클릭 시 "설정이 필요합니다" 팝업. |

**Guest 판별 기준**: `home_gym_id === null` 또는 `current_tier === null` (users 테이블 기준)

---

## 2. 구현 범위 (완료 항목)

### 2.1 Server Action

- **actions/profiles.ts**: `getProfileForHome()` — home_gym_id, current_tier 한 번에 조회, isGuest 반환.

### 2.2 컴포넌트

| 컴포넌트 | 경로 | 역할 |
|----------|------|------|
| GatePopup | components/common/GatePopup.tsx | "프로필을 완성해주세요" 다이얼로그. [확인] → /onboarding/gym-select, [취소] → 닫기. |
| GuestBanner | components/home/GuestBanner.tsx | CTA 배너. 클릭 시 /onboarding/gym-select. |
| GuestTierSection | components/home/GuestTierSection.tsx | 잠금 아이콘 + ? 뱃지, 안내 문구, "프로필 완성하기" 버튼. |
| GuestChartSection | components/home/GuestChartSection.tsx | 블러 처리된 샘플 막대 차트 + "데이터가 필요합니다" 오버레이. |
| GuestRoutineButton | components/home/GuestRoutineButton.tsx | [+ 새 루틴] 버튼. 클릭 시 GatePopup. |

### 2.3 페이지 및 스타일

- **app/page.tsx**: getProfileForHome() 호출 후 isGuest 시 Guest UI 렌더링. Regular 시 HM-02 플레이스홀더.
- **app/globals.css**: GripLab 테마 변수 (--griplab-primary, --griplab-background-dark, --griplab-card-dark).
- **components/Navbar.tsx**: GripLab 브랜딩 (로고 + "GripLab"), 홈일 때 다크 배경.

---

## 3. 디자인 레퍼런스

- **Design Ref**: [docs/design-refs/06_home_guest.html](../design-refs/06_home_guest.html)
- **스타일**: primary #1fe7f9, background-dark #0f2123, card-dark #162a2d. 모바일 퍼스트 max-w-[430px].

---

## 4. 산출물 체크리스트

- [x] components/common/GatePopup.tsx
- [x] components/home/GuestBanner.tsx
- [x] components/home/GuestTierSection.tsx
- [x] components/home/GuestChartSection.tsx
- [x] components/home/GuestRoutineButton.tsx
- [x] app/page.tsx Guest 분기
- [x] actions/profiles.ts getProfileForHome
- [x] globals.css GripLab 테마 변수, Navbar 브랜딩
